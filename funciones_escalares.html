<!doctype html>
<html lang="es">
<head>
<link rel="stylesheet" type="text/css" href="base.css" />
<link rel="stylesheet" type="text/css" href="content.css" />
<link rel="stylesheet" type="text/css" href="nav.css" />
<meta http-equiv="content-type" content="text/html;  charset=utf-8" />
<title>FUNCIONES ESCALARES | DESARROLLO DE BASES DE DATOS </title>
<link rel="shortcut icon" href="favicon.ico" type="image/x-icon" />
<meta name="author" content="JORGE IVAN BEDOYA RESTREPO" />
<link rel="license" type="text/html" href="http://creativecommons.org/licenses/by-sa/4.0/" />
<meta name="generator" content="eXeLearning 2.5 - exelearning.net" />
<!--[if lt IE 9]><script type="text/javascript" src="exe_html5.js"></script><![endif]-->
<script type="text/javascript" src="exe_jquery.js"></script>
<script type="text/javascript" src="common_i18n.js"></script>
<script type="text/javascript" src="common.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
</head>
<body class="exe-web-site" id="exe-node-47"><script type="text/javascript">document.body.className+=" js"</script>
<div id="content">
<p id="skipNav"><a href="#main" class="sr-av">Saltar la navegación</a></p>
<header id="header" ><div id="headerContent">DESARROLLO DE BASES DE DATOS</div></header>
<nav id="siteNav">
<ul>
   <li><a href="index.html" class="daddy main-node">DESARROLLO DE BASES DE DATOS</a></li>
   <li><a href="introduccion_a_sql_server.html" class="daddy">INTRODUCCION A SQL SERVER</a>
   <ul class="other-section">
      <li><a href="lenguaje_sql.html" class="no-ch">LENGUAJE SQL</a></li>
      <li><a href="sql_vs_sql_server.html" class="no-ch">SQL VS SQL SERVER</a></li>
      <li><a href="historia_de_sql_server.html" class="no-ch">HISTORIA DE SQL SERVER</a></li>
      <li><a href="conectar_a_sql_server.html" class="no-ch">CONECTAR A SQL SERVER</a></li>
      <li><a href="bases_de_datos_del_sistema.html" class="no-ch">BASES DE DATOS DEL SISTEMA</a></li>
      <li><a href="gestion_de_backups.html" class="no-ch">GESTION DE BACKUPS</a></li>
   </ul>
   </li>
   <li><a href="crud_en_sql_server.html" class="daddy">CRUD EN SQL SERVER</a>
   <ul class="other-section">
      <li><a href="gestion_de_bases_de_datos.html" class="no-ch">GESTION DE BASES DE DATOS</a></li>
      <li><a href="gestion_de_tablas.html" class="no-ch">GESTION DE TABLAS</a></li>
      <li><a href="campos_tipo_identity.html" class="no-ch">CAMPOS TIPO IDENTITY</a></li>
      <li><a href="insercion_de_datos.html" class="no-ch">INSERCION DE DATOS</a></li>
      <li><a href="actualizacion_de_datos.html" class="no-ch">ACTUALIZACION DE DATOS</a></li>
      <li><a href="borrado_de_datos.html" class="no-ch">BORRADO DE DATOS</a></li>
   </ul>
   </li>
   <li><a href="consulta_de_datos.html" class="daddy">CONSULTA DE DATOS</a>
   <ul class="other-section">
      <li><a href="consultas_bsicas.html" class="no-ch">CONSULTAS BÁSICAS</a></li>
      <li><a href="clusulas_and_or_between_in_like.html" class="no-ch">CLÁUSULAS AND, OR, BETWEEN, IN, LIKE</a></li>
      <li><a href="cualificacin_de_atributos.html" class="no-ch">CUALIFICACIÓN DE ATRIBUTOS</a></li>
      <li><a href="funciones_agregadas.html" class="no-ch">FUNCIONES AGREGADAS</a></li>
      <li><a href="ttulos_a_columnas_del_resultado.html" class="no-ch">TÍTULOS A COLUMNAS DEL RESULTADO</a></li>
      <li><a href="clusulas_lower_y_upper.html" class="no-ch">CLÁUSULAS LOWER Y UPPER</a></li>
      <li><a href="clusulas_day_month_year_substring.html" class="no-ch">CLÁUSULAS DAY, MONTH, YEAR, SUBSTRING</a></li>
      <li><a href="order_by__asc__desc.html" class="no-ch">ORDER BY ... ASC / DESC</a></li>
      <li><a href="clausula_top.html" class="no-ch">CLAUSULA TOP</a></li>
      <li><a href="subconsultas.html" class="no-ch">SUBCONSULTAS</a></li>
      <li><a href="clausula_group_by__having.html" class="no-ch">CLAUSULA GROUP BY / HAVING</a></li>
      <li><a href="clausulas_any_y_all.html" class="no-ch">CLAUSULAS ANY Y ALL</a></li>
   </ul>
   </li>
   <li><a href="relacion_entre_tablas.html" class="daddy">RELACION ENTRE TABLAS</a>
   <ul class="other-section">
      <li><a href="cmo_se_relacionan_tablas.html" class="no-ch">CÓMO SE RELACIONAN TABLAS?</a></li>
      <li><a href="diagrama_de_la_base_de_datos.html" class="no-ch">DIAGRAMA DE LA BASE DE DATOS</a></li>
      <li><a href="integridad_referencial.html" class="no-ch">INTEGRIDAD REFERENCIAL</a></li>
   </ul>
   </li>
   <li><a href="joins.html" class="daddy">JOINS</a>
   <ul class="other-section">
      <li><a href="concepto_de_join.html" class="no-ch">CONCEPTO DE JOIN</a></li>
      <li><a href="tipos_de_joins.html" class="daddy">TIPOS DE JOINS</a>
      <ul class="other-section">
         <li><a href="inner_join.html" class="no-ch">INNER JOIN</a></li>
         <li><a href="left__right__full_join.html" class="no-ch">LEFT / RIGHT / FULL JOIN</a></li>
      </ul>
      </li>
      <li><a href="joins_de_mas_de_dos_tablas.html" class="no-ch">JOINS DE MAS DE DOS TABLAS</a></li>
   </ul>
   </li>
   <li><a href="algebra_relacional.html" class="daddy">ALGEBRA RELACIONAL</a>
   <ul class="other-section">
      <li><a href="introduccionque_es.html" class="no-ch">INTRODUCCION.....QUE ES?</a></li>
      <li><a href="tipos_de_operaciones.html" class="no-ch">TIPOS DE OPERACIONES</a></li>
      <li><a href="operaciones.html" class="daddy">OPERACIONES</a>
      <ul class="other-section">
         <li><a href="primarias.html" class="daddy">PRIMARIAS</a>
         <ul class="other-section">
            <li><a href="seleccion.html" class="no-ch">SELECCION</a></li>
            <li><a href="proyeccion.html" class="no-ch">PROYECCION</a></li>
            <li><a href="renombramiento.html" class="no-ch">RENOMBRAMIENTO</a></li>
            <li><a href="union.html" class="no-ch">UNION</a></li>
            <li><a href="diferencia.html" class="no-ch">DIFERENCIA</a></li>
            <li><a href="producto_cartesiano.html" class="no-ch">PRODUCTO CARTESIANO</a></li>
         </ul>
         </li>
         <li><a href="secundarias.html" class="daddy">SECUNDARIAS</a>
         <ul class="other-section">
            <li><a href="reunion_natural.html" class="no-ch">REUNION NATURAL</a></li>
            <li><a href="interseccion.html" class="no-ch">INTERSECCION</a></li>
            <li><a href="division.html" class="no-ch">DIVISION</a></li>
         </ul>
         </li>
      </ul>
      </li>
   </ul>
   </li>
   <li><a href="vistas.html" class="no-ch">VISTAS</a></li>
   <li><a href="calcular_atributos_derivados.html" class="no-ch">CALCULAR ATRIBUTOS DERIVADOS</a></li>
   <li><a href="check_constraints.html" class="no-ch">CHECK CONSTRAINTS</a></li>
   <li class="current-page-parent"><a href="programacion_de_bases_de_datos.html" class="current-page-parent daddy">PROGRAMACION DE BASES DE DATOS</a>
   <ul>
      <li><a href="procedimientos_almacenados.html" class="no-ch">PROCEDIMIENTOS ALMACENADOS</a></li>
      <li class="current-page-parent"><a href="funciones_de_usuario.html" class="current-page-parent daddy">FUNCIONES DE USUARIO</a>
      <ul>
         <li id="active"><a href="funciones_escalares.html" class="active no-ch">FUNCIONES ESCALARES</a></li>
         <li><a href="funciones_de_tablas.html" class="no-ch">FUNCIONES DE TABLAS</a></li>
      </ul>
      </li>
      <li><a href="triggers.html" class="no-ch">TRIGGERS</a></li>
      <li><a href="control_de_errores.html" class="no-ch">CONTROL DE ERRORES</a></li>
      <li><a href="transacciones__atomicidad.html" class="no-ch">TRANSACCIONES / ATOMICIDAD</a></li>
      <li><a href="manejo_de_cursores.html" class="no-ch">MANEJO DE CURSORES</a></li>
   </ul>
   </li>
   <li><a href="temas_adicionales.html" class="daddy">TEMAS ADICIONALES</a>
   <ul class="other-section">
      <li><a href="encriptamiento_de_datos.html" class="no-ch">ENCRIPTAMIENTO DE DATOS</a></li>
      <li><a href="clusula_case.html" class="no-ch">CLÁUSULA CASE</a></li>
      <li><a href="inserts_con_datos_de_otras_tablas.html" class="no-ch">INSERTs CON DATOS DE OTRAS TABLAS</a></li>
      <li><a href="manejo_de_nulos.html" class="no-ch">MANEJO DE NULOS</a></li>
      <li><a href="truncate_vs_delete_vs_drop.html" class="no-ch">TRUNCATE vs DELETE vs DROP</a></li>
      <li><a href="merge.html" class="no-ch">MERGE</a></li>
      <li><a href="otros_comodines_del_like.html" class="no-ch">OTROS COMODINES DEL LIKE</a></li>
      <li><a href="funciones_numricas.html" class="no-ch">FUNCIONES NUMÉRICAS</a></li>
      <li><a href="funciones_tipo_fecha.html" class="no-ch">FUNCIONES TIPO FECHA</a></li>
      <li><a href="funciones_tipo_string.html" class="no-ch">FUNCIONES TIPO STRING</a></li>
      <li><a href="clausula_default.html" class="no-ch">CLAUSULA DEFAULT</a></li>
      <li><a href="clausula_distinct.html" class="no-ch">CLAUSULA DISTINCT</a></li>
      <li><a href="borrado__actualizacion_en_cascada.html" class="no-ch">BORRADO / ACTUALIZACION EN CASCADA</a></li>
   </ul>
   </li>
</ul>
</nav>
<div id='topPagination'>
<nav class="pagination noprt">
<a href="funciones_de_usuario.html" class="prev"><span><span>&laquo; </span>Anterior</span></a> <span class="sep">| </span><a href="funciones_de_tablas.html" class="next"><span>Siguiente<span> &raquo;</span></span></a>
</nav>
</div>
<div id="main-wrapper">
<section id="main">
<header id="nodeDecoration"><h1 id="nodeTitle">FUNCIONES ESCALARES</h1></header>
<article class="iDevice_wrapper textIdevice" id="id98">
<div class="iDevice emphasis0" >
<div id="ta98_108_2" class="block iDevice_content">
<div class="exe-text"><p style="text-align: justify;"><span style="font-family: verdana, geneva, sans-serif;">Las funciones escalares son aquellas que retornan un valor, es decir, un número, un string, una fecha, etc.</span></p>
<p style="text-align: justify;"><span style="font-family: verdana, geneva, sans-serif;">Supogamos que tenemos la tabla EMPLEADO, con los siguientes datos:</span></p>
<p><img src="img0.13.png" width="409" height="225" alt="kmmm" style="display: block; margin-left: auto; margin-right: auto;" /></p>
<p style="text-align: justify;"><span style="font-family: verdana, geneva, sans-serif;">Si nuestra lógica implica, por ejemplo, calcular el sueldo promedio de todos los empleados, podríamos pensar en hacer una función escalar.Tener en cuenta que el sueldo promedio de todos los empleados es UN dato numérico.</span></p>
<p style="text-align: justify;"><span style="font-family: verdana, geneva, sans-serif;">La manera de hacerlo es a través de la siguiente programación:</span></p>
<p style="text-align: justify;"><img src="img1.12.png" width="633" height="351" alt="bnx" style="display: block; margin-left: auto; margin-right: auto;" /></p>
<p style="text-align: justify;"><span style="font-family: verdana, geneva, sans-serif;">A continuación se da una explicación detallada de la lógica anterior:</span></p>
<ul>
<li style="text-align: justify;"><span style="font-family: verdana, geneva, sans-serif; color: #333333; font-size: 1.05em;">Se crea una función llamada CALCULAR_PROMEDIO.</span></li>
<li style="text-align: justify;"><span style="font-family: verdana, geneva, sans-serif; color: #333333; font-size: 1.05em;">La función no recibe parámetros (esa es la razón de los dos paréntesis abierto y cerrado ( () ), sin nada adentro). Las funciones, al igual que los procedimientos almacenados, pueden recibir parámetros. Dichos parámetros irían dentro de los paréntesis mencionados.</span></li>
<li style="text-align: justify;"><span style="font-family: verdana, geneva, sans-serif; color: #333333; font-size: 1.05em;">La función va a retornar un valor numérico, de tipo flotante. Toda función escalar debe tener la cláusula RETURNS en el CREATE FUNCTION, especificando el tipo de dato que va a retornar la función.</span></li>
<li style="text-align: justify;"><span style="font-family: verdana, geneva, sans-serif;">La lógica de la función debe estar dentro de las cláusulas BEGIN y END.</span></li>
<li style="text-align: justify;"><span style="font-family: verdana, geneva, sans-serif; color: #333333; font-size: 1.05em;">Se declara una variable, de tipo flotante, llamada PROMEDIO.</span></li>
<li style="text-align: justify;"><span style="font-family: verdana, geneva, sans-serif; color: #333333; font-size: 1.05em;">Se selecciona el promedio de sueldos de todos los empleados, y este promedio se almacena en la variable PROMEDIO, previamente declarada.</span></li>
<li style="text-align: justify;"><span style="font-family: verdana, geneva, sans-serif; color: #333333; font-size: 1.05em;">Al final de la lógica de la función, se retorna el valor que hay en la variable PROMEDIO, es decir, el promedio de sueldos de todos los empleados.</span></li>
</ul>
<p style="text-align: justify;"><span style="text-decoration: underline;"><em><span style="font-family: verdana, geneva, sans-serif;">Quién recibe el valor retornado por una función?</span></em></span></p>
<p style="text-align: justify;"><span style="font-family: verdana, geneva, sans-serif;">Si una función tiene como misión retornar un valor, significa que una función no se ejecuta directamente. Una función se invoca desde otro programa o instrucción.</span></p>
<p style="text-align: justify;"><span style="font-family: verdana, geneva, sans-serif;">Por ejemplo, la anterior función pudiera ser invocada por una instrucción SELECT de la siguiente manera:</span></p>
<p><img src="img2.12.png" width="478" height="156" alt="olk" style="display: block; margin-left: auto; margin-right: auto;" /></p>
<p style="text-align: justify;"><span style="font-family: verdana, geneva, sans-serif;">Lo que hace la anterior instrucción es invocar la función para que ella sea ejecutada, y recibir el sueldo promedio de los empleados e imprimirlo.</span></p>
<p style="text-align: justify;"><span style="font-family: verdana, geneva, sans-serif;">La función también podría ser invocada desde un procedimiento almacenado, desde otra función y/o desde un trigger.</span></p>
<p style="text-align: justify;"><span style="font-family: verdana, geneva, sans-serif;">Por ejemplo, desde un procedimiento almacenado, la función podría ser invocada de la siguiente manera:</span></p>
<p><img src="img3.8.png" width="614" height="240" alt="imj" style="display: block; margin-left: auto; margin-right: auto;" /></p>
<p style="text-align: justify;"><span style="font-family: verdana, geneva, sans-serif;">El anterior procedimiento declara una variable, llamada SUELDOPROM de tipo flotante, en la cual se almacena lo retornado por la función. La instrucción SET lo que hace es invocar la función, y recibir lo que retorna la función en la variable SUELDOPROM. Posteriormente, dicha variable se imprime.</span></p>
<p><img src="img4.7.png" width="446" height="184" alt="plm" style="display: block; margin-left: auto; margin-right: auto;" /></p>
<p style="text-align: justify;"><span style="font-family: verdana, geneva, sans-serif;">Al ejecutar el procedimiento, sucede lo esperado. El sueldo promedio de todos los empleados se imprime.</span></p>
<p style="text-align: justify;"><span style="font-family: verdana, geneva, sans-serif;">Video:</span></p>
<p style="text-align: justify;"><span style="font-family: verdana, geneva, sans-serif;"><a href="https://youtu.be/cUC8oPjjwJY">Funciones Escalares</a></span></p></div>
</div>
</div>
</article>
<div id="packageLicense" class="cc cc-by-sa">
<p><span>Obra publicada con</span> <a rel="license" href="http://creativecommons.org/licenses/by-sa/4.0/">Licencia Creative Commons Reconocimiento Compartir igual 4.0</a></p>
</div>
</section>
</div>
<div id='bottomPagination'>
<nav class="pagination noprt">
<a href="funciones_de_usuario.html" class="prev"><span><span>&laquo; </span>Anterior</span></a> <span class="sep">| </span><a href="funciones_de_tablas.html" class="next"><span>Siguiente<span> &raquo;</span></span></a>
</nav>
</div>
</div>
<script type="text/javascript" src="_intef_js.js"></script></body></html>